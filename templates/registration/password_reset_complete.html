{% extends 'base.html' %}

{% block title %}Password Reset Complete - JigsimurHerbal{% endblock %}

{% block content %}
<div class="container py-5" style="min-height: 100vh;">
  <div class="row justify-content-center align-items-center min-vh-75">
    <div class="col-12 col-sm-11 col-md-9 col-lg-7 col-xl-6">
      <div class="card shadow-lg border-0">
        <div class="card-body p-4 p-lg-5 text-center">
          <!-- Success Icon -->
          <div class="mb-4">
            <div class="mb-3">
              <i class="fas fa-check-circle fa-4x text-success"></i>
            </div>
            <h3 class="text-success fw-bold mb-2">Password Reset Successful!</h3>
            <p class="text-muted mb-0">Your password has been successfully updated</p>
          </div>

          <!-- Success Message -->
          <div class="alert alert-success border-0" role="alert">
            <i class="fas fa-thumbs-up me-2"></i>
            <strong>All done!</strong><br>
            You can now sign in with your new password and continue enjoying our natural herbal products.
          </div>

          <!-- Login Button -->
          <div class="d-grid gap-3 mb-4">
            <a href="{% url 'users:login' %}" class="btn btn-success btn-lg py-3">
              <i class="fas fa-sign-in-alt me-2"></i>Sign In Now
            </a>
            <a href="{% url 'products:home' %}" class="btn btn-outline-success">
              <i class="fas fa-home me-2"></i>Go to Homepage
            </a>
          </div>

          <!-- Security Note -->
          <div class="text-center">
            <p class="text-muted small mb-0">
              <i class="fas fa-info-circle me-2"></i>
              For security, you've been logged out of all other devices
            </p>
          </div>
        </div>

        <!-- Security Footer -->
        <div class="card-footer bg-light text-center py-3">
          <small class="text-muted">
            <i class="fas fa-shield-alt me-2 text-success"></i>
            Remember to keep your password safe and don't share it with anyone
          </small>
        </div>
      </div>

      <!-- Next Steps -->
      <div class="row mt-4 d-none d-md-flex">
        <div class="col-md-4 text-center">
          <div class="p-3 bg-white rounded shadow-sm">
            <i class="fas fa-shopping-cart fa-2x text-success mb-2"></i>
            <h6 class="fw-semibold">Continue Shopping</h6>
            <small class="text-muted">Browse our natural herbal products</small>
          </div>
        </div>
        <div class="col-md-4 text-center">
          <div class="p-3 bg-white rounded shadow-sm">
            <i class="fas fa-user-circle fa-2x text-info mb-2"></i>
            <h6 class="fw-semibold">Update Profile</h6>
            <small class="text-muted">Complete your account information</small>
          </div>
        </div>
        <div class="col-md-4 text-center">
          <div class="p-3 bg-white rounded shadow-sm">
            <i class="fas fa-bell fa-2x text-warning mb-2"></i>
            <h6 class="fw-semibold">Stay Updated</h6>
            <small class="text-muted">Subscribe to our newsletter</small>
          </div>
        </div>
      </div>

      <!-- Additional Security Tips -->
      <div class="card mt-4 bg-light border-0">
        <div class="card-body text-center py-4">
          <h6 class="text-success mb-3">
            <i class="fas fa-lightbulb me-2"></i>Keep Your Account Secure
          </h6>
          <div class="row">
            <div class="col-md-6 mb-2">
              <small class="text-muted">
                <i class="fas fa-check me-2 text-success"></i>
                Use a unique password for this account
              </small>
            </div>
            <div class="col-md-6 mb-2">
              <small class="text-muted">
                <i class="fas fa-check me-2 text-success"></i>
                Enable two-factor authentication
              </small>
            </div>
            <div class="col-md-6 mb-2">
              <small class="text-muted">
                <i class="fas fa-check me-2 text-success"></i>
                Log out from shared devices
              </small>
            </div>
            <div class="col-md-6 mb-2">
              <small class="text-muted">
                <i class="fas fa-check me-2 text-success"></i>
                Update password regularly
              </small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Auto-redirect to login page after a delay (optional)
    let countdown = 10;
    const notification = document.createElement('div');
    notification.className = 'alert alert-info position-fixed top-0 start-50 translate-middle-x mt-3';
    notification.style.zIndex = '9999';
    notification.innerHTML = `<i class="fas fa-clock me-2"></i>You'll be redirected to login in <span id="countdown">${countdown}</span> seconds`;

    // Uncomment to enable auto-redirect
    // document.body.appendChild(notification);

    // const interval = setInterval(() => {
    //   countdown--;
    //   document.getElementById('countdown').textContent = countdown;
    //
    //   if (countdown <= 0) {
    //     clearInterval(interval);
    //     window.location.href = "{% url 'users:login' %}";
    //   }
    // }, 1000);

    // Add celebration animation
    setTimeout(() => {
      const successIcon = document.querySelector('.fa-check-circle');
      if (successIcon) {
        successIcon.style.animation = 'pulse 2s infinite';
      }
    }, 500);
  });
</script>

<style>
  @keyframes pulse {
    0% {
      transform: scale(1);
    }

    50% {
      transform: scale(1.1);
    }

    100% {
      transform: scale(1);
    }
  }
</style>
{% endblock %}
